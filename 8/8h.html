<!doctype html>
<html>
    <head>
        <meta charset="UTF-8" />
        <title>8h</title>
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/normalize/8.0.1/normalize.min.css" />
        <link rel="stylesheet" href="my_habit.css" />
        <!-- <link rel="stylesheet" href="style.css" /> -->
        <style>
            .p-1 {
                margin: 10px 0px 10px 10px;
            }
        </style>
    </head>
    <body>
        <p class="p-1">Cart Quantity</p>
        <button onclick="console.log(`Cart quantity: ${var_q}`)">Show Quantity</button>
        <button onclick="add(1)">Add to Cart</button>
        <button onclick="add(2)">+2</button>
        <button onclick="add(3)">+3</button>
        <button onclick="add(4)">+4</button>
        <button onclick="add(5)">+5</button>
        <button onclick="add(-1)">Remove from cart</button>
        <button onclick="add(-2)">-2</button>
        <button onclick="add(-3)">-3</button>
        <button onclick="add(0)">Reset Cart</button>
        
        <script>
            // get old var
            let var_q = JSON.parse(localStorage.getItem('var_save'))|| 0;
            // add function
            function add(number_int) {
                if (number_int === 0) {
                    var_q = 0;
                    console.log("Cart is reset.");
                    console.log(`Cart quantity: ${var_q}`);
                localStorage.setItem('var_save',JSON.stringify(var_q));
                    return;
                }
                if (var_q + number_int > 10) {
                    console.log("The cart is full");
                    return;
                }
                if (var_q + number_int < 0) {
                    console.log("Not enough items in the cart");
                    return;
                }
                var_q = var_q + number_int;
                // save in local storage
                localStorage.setItem('var_save',JSON.stringify(var_q));
                console.log(`Cart quantity: ${var_q}`);
            return;
            }
        </script>
    </body>
</html>
